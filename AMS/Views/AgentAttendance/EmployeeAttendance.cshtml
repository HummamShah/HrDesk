@using UserRoles = AMS.Models.Enums.Roles;

@{
    ViewBag.Title = "EmployeeAttendance";
}
<div class="container-fluid" ng-controller="AgentAttendanceCtrl" ng-init="initIndexHR()">
    <div class="row">
        <div class="col-xl-12 col-md-12 col-lg-12">
            <div class="card" style="margin-top: 10px;">
                <div class="card-header  border-0">
                    <h4 class="card-title">Employee's Attendance Overview</h4>
                </div>

                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12 col-lg-12 col-xl-5">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="form-label">From:</label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">
                                                    <i class="feather feather-calendar"></i>
                                                </div>
                                            </div>
                                            <input type="date" class="form-control" ng-model="DateFrom" />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="form-label">To:</label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">
                                                    <i class="feather feather-calendar"></i>
                                                </div>
                                            </div>
                                            <input type="date" class="form-control" ng-model="DateTo" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="col-md-12 col-lg-12 col-xl-2">
                            <div class="form-group mt-4">
                                <a href="#" class="btn btn-primary btn-block" style="margin-top: 33px;" ng-click="GetAllEmployeesAttendance(DateFrom,DateTo)">GET</a>
                            </div>
                        </div>

                        <table class="table table-bordered table-responsive-xs" id="dataTable" width="100%" cellspacing="0">
                            <thead>
                                <tr style="overflow:hidden;">
                                    <th>
                                        Agent Name <a href="" class="sort-icon" ng-click="SetSortingColoumn('Date')"><i class="fas fa-arrow-up" ng-class="Sorting.AscClass"></i><i class="fas fa-arrow-down" ng-class="Sorting.DescClass"></i></a>
                                    </th>
                                    <th>
                                        Date <a href="" class="sort-icon" ng-click="SetSortingColoumn('Date')"><i class="fas fa-arrow-up" ng-class="Sorting.AscClass"></i><i class="fas fa-arrow-down" ng-class="Sorting.DescClass"></i></a>
                                    </th>
                                    <th>
                                        Status <a href="" class="sort-icon" ng-click="SetSortingColoumn('Status')"><i class="fas fa-arrow-up" ng-class="Sorting.AscClass"></i><i class="fas fa-arrow-down" ng-class="Sorting.DescClass"></i></a>
                                    </th>
                                    <th>
                                        Clock-In <a href="" class="sort-icon" ng-click="SetSortingColoumn('Clock-In')"><i class="fas fa-arrow-up" ng-class="Sorting.AscClass"></i><i class="fas fa-arrow-down" ng-class="Sorting.DescClass"></i></a>
                                    </th>
                                    <th>
                                        Clock-Out <a href="" class="sort-icon" ng-click="SetSortingColoumn('Clock-Out')"><i class="fas fa-arrow-up" ng-class="Sorting.AscClass"></i><i class="fas fa-arrow-down" ng-class="Sorting.DescClass"></i></a>
                                    </th>
                                    <th>
                                        Hours <a href="" class="sort-icon" ng-click="SetSortingColoumn('Hours')"><i class="fas fa-arrow-up" ng-class="Sorting.AscClass"></i><i class="fas fa-arrow-down" ng-class="Sorting.DescClass"></i></a>
                                    </th>
                                    <th>
                                        Type <a href="" class="sort-icon" ng-click="SetSortingColoumn('Hours')"><i class="fas fa-arrow-up" ng-class="Sorting.AscClass"></i><i class="fas fa-arrow-down" ng-class="Sorting.DescClass"></i></a>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="Agent in AttendanceList  | orderBy:Sorting.Field:Sorting.IsAscending">
                                    <td>
                                        {{Agent.AgentName}}
                                    </td>
                                    <td>
                                        {{Agent.Date | date:'MMM d, y'}}
                                    </td>
                                    <td>
                                        <span ng-if="Agent.IsLate == true" style="color:red">Late</span>
                                        <span ng-if="Agent.IsPresent == true" style="color:darkgreen">On Time</span>
                                        <span ng-if="Agent.IsExcused == true" style="color:darkorange">Excused</span>
                                        <span ng-if="Agent.IsAbsent == true" style="color:black">Absent</span>
                                    </td>
                                    <td>
                                        <span ng-if="Agent.IsAbsent == false">{{Agent.StartDateTime | date:'hh:mm a'}}</span>
                                        <span ng-if="Agent.IsAbsent == true">NA</span>
                                    </td>
                                    <td>
                                        <span ng-if="Agent.IsAbsent == false">{{Agent.EndDateTime | date:'hh:mm a'}}</span>
                                        <span ng-if="Agent.IsAbsent == true">NA</span>
                                    </td>
                                    <td>
                                        <span ng-if="Agent.IsAbsent == false">{{Agent.WorkingHours}}</span>
                                        <span ng-if="Agent.IsAbsent == true">NA</span>
                                    </td>
                                    <td>
                                        {{Agent.TypeEnum}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
}


